;Generated list file
                                   ;; This is a test asm file
                                   ;; for BJT CPU.
                                   ;include "testinc.asm"
                                   ;perif   equ 0xc00
                                   ;offs1	equ 3
                                   ;h_uart  equ perif+0
                                   ;l_uart  equ perif+1
                                   ;in0     equ 2+perif
                                   ;in1     equ perif+offs1
                                   ;m1_addr EQU 4095
                                   ;m1      Equ 15
                                   ;
                                   ;section .code
                                   ;		mvi a,m1
                                   ;		sta m1_addr
                                   ;		jmp delay		;call delay
                                   ;start:  jmp clear		;call clear
                                   ;retclr: mvi a,3
                                   ;        sta h_uart
                                   ;        ldA db_er
000  0 f      mvi a, 0xf           ;        STa l_uart
002  1 f f f  sta 0xfff            ;        lda db_er+1
006  9 0 4 8  jmp 0x048            ;        sta l_uart
00a  9 0 3 8  jmp 0x038            ;        lda in0
00e  0 3      mvi a, 0x3           ;        sta l_uart
010  1 c 0 0  sta 0xc00            ;        lda in1
014  2 0 6 a  lda 0x06a            ;        sta l_uart
018  1 c 0 1  sta 0xc01            ;        jmp start
01c  2 0 6 b  lda 0x06b            ;
020  1 c 0 1  sta 0xc01            ;clear:  mvi a,0             ;clear rutin
024  2 c 0 2  lda 0xc02            ;        sta h_uart
028  1 c 0 1  sta 0xc01            ;        mvi a,12
02c  2 c 0 3  lda 0xc03            ;        sta l_uart
030  1 c 0 1  sta 0xc01            ;        jmp retclr			;ret
034  9 0 0 a  jmp 0x00a            ;		
                                   ;delay:  ad0 m1_addr         ;delay rutin
038  0 0      mvi a, 0x0           ;        sta 4093
03a  1 c 0 0  sta 0xc00            ;        mvi a,15
03e  0 c      mvi a, 0xc           ;loop3:  ad0 m1_addr
040  1 c 0 1  sta 0xc01            ;        jnz loop3
044  9 0 0 e  jmp 0x00e            ;        lda 4093
                                   ;        jnz delay
048  3 f f f  ad0 0xfff            ;        jmp start			;ret
04c  1 f f d  sta 0xffd            ;halt:   jmp halt
050  0 f      mvi a, 0xf           ;
052  3 f f f  ad0 0xfff            ;section .data
056  d 0 5 2  jnz 0x052            ;db_er:  0,1,2,3,4,5,6,7,8,9
05a  2 f f d  lda 0xffd            ;db_len: db $-db_er
05e  d 0 4 8  jnz 0x048            ;long_len equ $
062  9 0 0 a  jmp 0x00a            ;long1:	db long_len>>8
066  9 0 6 6  jmp 0x066            ;		db long_len>>4
                                   ;		db long_len
06a  0                             ;long2:	db long_len@2
06b  1
06c  2
06d  3
06e  4
06f  5
070  6
071  7
072  8
073  9
                                   ;		db long_len@1
074  a                             ;		db long_len@0
                                   ;        end075  0
076  7
077  5
078  0
079  7
07a  5
end
